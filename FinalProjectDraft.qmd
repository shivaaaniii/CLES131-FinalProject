---
title: "FinalProjectDraft"
format: html
---

```{r}
library(ggplot2)
library(tidyverse)
library(dplyr)
library(plotly)


# Coral Bleaching
```{r}
Bleaching <- read_csv("data/global_bleaching_environmental (3).csv")

Bleaching$Country_Name <- replace(Bleaching$Country_Name, Bleaching$Country_Name=="Japan", "South Korea")
# Japan and South Korea share coral reefs hence above code
countries_use <- c(
  "China", "India", "Indonesia", "South Korea", "Malaysia", "Mexico",
  "Taiwan", "Thailand", "Vietnam"
)



# explained by https://www.statology.org/r-select-rows-by-condition/
clean_bleaching <- Bleaching[Bleaching$Country_Name %in% countries_use,
                      c("Country_Name", "Percent_Bleaching")]
```
This filters out the countries that were included in the top 10 plastic imports. 

```{r}
clean_bleaching |>
  ggplot(aes(
    x = Country_Name,
    y = Percent_Bleaching,
    fill = Country_Name
  )) +
  geom_col() +
  scale_fill_manual(values = c(
    "China" = "red",
    "India" = "orange",
    "Indonesia" = "yellow",
    "Malaysia" = "cyan",
    "Mexico" = "blue",
    "Taiwan" = "purple",
    "Thailand" = "magenta",
    "Vietnam" = "black"
  )) +
  labs(
    x = "Country",
    y = "Percent Bleaching",
    title = "Coral Bleaching Percent by Country"
  ) 
```
#Microplastics
```{r}
MarineMicroplastics <- read_csv("data/Marine_Microplastics_WGS84_8553846406879449657.csv")
countries_use <- c(
  "China", "India", "Indonesia", "South Korea", "Malaysia", "Mexico",
  "Taiwan", "Thailand", "Vietnam"
)
clean_microplastics <- MarineMicroplastics[MarineMicroplastics$Country %in% countries_use,
                      c("Country", "Concentration class range")]

```

```{r}
plot <- ggplot(clean_microplastics, aes(
  x = Country,
  y = Concentration.class.range,   # <-- update this if needed
  color = Country
)) +
  geom_point(size = 4) +
  scale_color_manual(values = c(
    "China"    = "red",
    "India"     = "orange",
    "Indonesia" = "yellow",
    "Malaysia"  = "cyan",
    "Mexico"    = "blue",
    "Taiwan"    = "purple",
    "Thailand"  = "magenta",
    "Vietnam"   = "black"
  )+   labs(
    title = "Microplastic Concentration Class Range by Country",
    x = "Country",
    y = "Concentration Class Range"
  )) 

```